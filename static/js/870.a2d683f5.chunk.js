"use strict";(self.webpackChunkxipay_web=self.webpackChunkxipay_web||[]).push([[870],{4802:function(e,n,a){a.d(n,{TE:function(){return x},iZ:function(){return p},sq:function(){return f},yX:function(){return m},EG:function(){return h},mB:function(){return j},iW:function(){return v},RF:function(){return y}});var t=a(23680),s=a(24611),i=a(53755),r=a(26219),l=a(14441),c=a(5779),o=a(7733),d=a.n(o),u=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]'),p=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var a,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getBalance();case 2:return a=e.sent,t=r.bM(a,18),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a,t){var i,c,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new l.CH(n,u,t),e.next=3,i.balanceOf(a);case 3:return c=e.sent,o=r.bM(c,"ether"),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(n,a,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){var t,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new l.CH(n,u,a),e.next=3,t.symbol();case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),x=function(e){navigator.clipboard.writeText(e).then((function(){c.aS.success("Copied")})).catch((function(e){c.aS.failure("Error copying text to clipboard:")}))},f=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n){var a,t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d().get("https://api.coingecko.com/api/v3/simple/price?ids=".concat(n,"&vs_currencies=usd"));case 3:return a=e.sent,t=a.data,e.abrupt("return",parseFloat(t[n].usd).toFixed(4));case 8:return e.prev=8,e.t0=e.catch(0),console.log("errr",e.t0),e.abrupt("return",0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a,i,l){var c,o,d,u,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.sendTransaction({to:i,value:r.fi(l)});case 2:return c=e.sent,console.log("transactionHash",c.hash),e.next=6,j(c.hash,n);case 6:return o=e.sent,d=(0,t.Z)(o,2),u=d[0],p=d[1],e.abrupt("return",{txhash:u,status:p});case 11:case"end":return e.stop()}}),e)})));return function(n,a,t,s){return e.apply(this,arguments)}}(),y=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a,i,c,o){var d,p,m,h,x,f,v,y;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=new l.CH(i,u,a),p=c,console.log("sendAddress",c),console.log("sendValue",o),m=r.vz(o,"18"),e.next=7,d.transfer(p,m);case 7:return h=e.sent,console.log("transactionHash",h.hash),e.next=11,j(h.hash,n);case 11:return x=e.sent,f=(0,t.Z)(x,2),v=f[0],y=f[1],e.abrupt("return",{txhash:v,status:y});case 16:case"end":return e.stop()}}),e)})));return function(n,a,t,s,i){return e.apply(this,arguments)}}(),b=function(e){return new Promise((function(n){return setTimeout(n,e)}))},j=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,a){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=null;case 1:if(null!=t){e.next=9;break}return e.next=4,a.getTransactionReceipt(n);case 4:return t=e.sent,e.next=7,b(3e3);case 7:e.next=1;break;case 9:if(!t.status){e.next=13;break}return e.abrupt("return",[n,!0]);case 13:return e.abrupt("return",[n,!1]);case 14:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}()},95573:function(e,n,a){a.d(n,{Z:function(){return x}});var t=a(76870),s=a(26863),i=a(99033),r=a(79428),l=a(22667),c=a(49111),o=a(69935),d=a(5779),u=a(44953),p=a(52516),m=function(e){e.children;var n=(0,r.TH)().key;(0,t.useEffect)((function(){return(0,c.Z)("./assets/js/vendor.min.js"),(0,c.Z)("./assets/js/theme.min.js"),function(){(0,o.Z)("./assets/js/vendor.min.js"),(0,o.Z)("./assets/js/theme.min.js")}}),[n]);var a=(0,i.I0)(),m=(0,i.v9)((function(e){return e.auth})).user,h=[{name:"Dashboard",link:"/user/dashboard",icon:(0,p.jsx)("i",{"data-feather":"pie-chart"})},{name:"Invoices",link:"/user/invoice",icon:(0,p.jsx)("i",{"data-feather":"file"})},{name:"QR Payments",link:"/user/qrpayments",icon:(0,p.jsx)("i",{"data-feather":"camera"})},{name:"Web Payments",link:"/user/webpayment",icon:(0,p.jsx)("i",{"data-feather":"shopping-bag"})},{name:"API Keys",link:"/user/setting/apikey",icon:(0,p.jsx)("i",{"data-feather":"send"})}],x=window.location.pathname,f=h.map((function(e){var n;return x===e.link&&(n="active"),(0,p.jsx)("li",{className:"nav-item pe-3",children:(0,p.jsx)(l.rU,{className:"nav-link ".concat(n),to:e.link,children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("span",{className:"icon-xs me-1 flex-shrink-0",children:e.icon}),(0,p.jsx)("div",{className:"flex-grow-1",children:e.name})]})})})})),v="../../assets/images/avatars/img-8.jpg";return m.photo&&(v=m.photo),(0,p.jsx)("header",{children:(0,p.jsx)("nav",{className:"navbar navbar-expand-lg topnav-menu navbar-light shadow",children:(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("a",{className:"navbar-brand me-lg-3 me-auto",href:"/",children:(0,p.jsx)("img",{src:"./assets/images/logo.png",height:30,className:"d-inline-block align-top",alt:""})}),(0,p.jsx)("a",{href:"#",className:"navbar-toggler me-3","data-bs-toggle":"collapse","data-bs-target":"#topnav-menu-content4","aria-controls":"topnav-menu-content4","aria-expanded":"false","aria-label":"Toggle navigation",children:(0,p.jsx)("span",{className:"navbar-toggler-icon"})}),(0,p.jsxs)("div",{className:"collapse navbar-collapse",id:"topnav-menu-content4",children:[(0,p.jsx)("ul",{className:"navbar-nav mx-auto",children:f}),(0,p.jsxs)("ul",{className:"navbar-nav align-items-center",children:[(0,p.jsxs)("li",{className:"nav-item dropdown",children:[(0,p.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"notifications",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,p.jsx)("span",{className:"icon-xs",children:(0,p.jsxs)("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,p.jsx)("title",{children:"Stockholm-icons / General / Notification#2"}),(0,p.jsx)("desc",{children:"Created with Sketch."}),(0,p.jsxs)("g",{id:"Stockholm-icons-/-General-/-Notification#2",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[(0,p.jsx)("rect",{id:"bound",x:0,y:0,width:24,height:24}),(0,p.jsx)("path",{d:"M13.2070325,4 C13.0721672,4.47683179 13,4.97998812 13,5.5 C13,8.53756612 15.4624339,11 18.5,11 C19.0200119,11 19.5231682,10.9278328 20,10.7929675 L20,17 C20,18.6568542 18.6568542,20 17,20 L7,20 C5.34314575,20 4,18.6568542 4,17 L4,7 C4,5.34314575 5.34314575,4 7,4 L13.2070325,4 Z",id:"Combined-Shape",fill:"#335EEA"}),(0,p.jsx)("circle",{id:"Oval",fill:"#335EEA",opacity:"0.3",cx:"18.5",cy:"5.5",r:"2.5"})]})]})})}),(0,p.jsxs)("div",{className:"dropdown-menu p-2","aria-labelledby":"notifications",children:[(0,p.jsx)(l.rU,{className:"dropdown-item p-2",href:"/",children:"Apothem"}),(0,p.jsx)("a",{className:"dropdown-item p-2",href:"#",onClick:function(e){e.preventDefault(),d.aS.info("Mainnet will launch soon")},children:"Mainnet"})]})]}),(0,p.jsxs)("li",{className:"nav-item dropdown",children:[(0,p.jsx)("a",{className:"nav-link dropdown-toggle py-0",href:"#",id:"user",role:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:(0,p.jsxs)("div",{className:"d-flex align-items-center",children:[(0,p.jsx)("div",{className:"flex-shrink-0",children:(0,p.jsx)("img",{src:v,className:"avatar avatar-xs rounded-circle me-2",alt:""})}),(0,p.jsxs)("div",{className:"flex-grow-1 ms-1 lh-base",children:[(0,p.jsx)("span",{className:"fw-semibold fs-13 d-block line-height-normal",children:m.firstName}),(0,p.jsx)("span",{className:"text-muted fs-13",children:m.walletAddress&&(0,u.Z)(m.walletAddress)})]})]})}),(0,p.jsxs)("div",{className:"dropdown-menu p-2","aria-labelledby":"user",children:[(0,p.jsxs)(l.rU,{to:"/user/setting",className:"dropdown-item p-2",children:[(0,p.jsx)("i",{className:"icon icon-xxs me-1 icon-dual","data-feather":"settings"}),"Settings"]}),(0,p.jsxs)(l.rU,{to:"/user/setting",onClick:function(e){e.preventDefault(),d.aS.info("Not available now")},className:"dropdown-item p-2",href:"#",children:[(0,p.jsx)("i",{className:"icon icon-xxs me-1 icon-dual","data-feather":"aperture"}),"Support"]}),(0,p.jsx)("div",{className:"dropdown-divider"}),(0,p.jsxs)(l.rU,{className:"dropdown-item p-2",to:"/logout",onClick:function(){a((0,s.TX)())},children:[(0,p.jsx)("i",{className:"icon icon-xxs me-1 icon-dual","data-feather":"unlock"}),"Sign Out"]})]})]})]})]})]})})})},h=function(){return(0,p.jsx)("section",{className:"section py-4 position-relative",children:(0,p.jsx)("div",{className:"container",children:(0,p.jsxs)("div",{className:"row align-items-center",children:[(0,p.jsx)("div",{className:"col",children:(0,p.jsxs)("ul",{className:"list-inline list-with-separator mb-0",children:[(0,p.jsx)("li",{className:"list-inline-item me-0",children:(0,p.jsx)("a",{href:"#",children:"About"})}),(0,p.jsx)("li",{className:"list-inline-item me-0",children:(0,p.jsx)("a",{href:"#",children:"Privacy"})}),(0,p.jsx)("li",{className:"list-inline-item me-0",children:(0,p.jsx)("a",{href:"#",children:"Terms"})}),(0,p.jsx)("li",{className:"list-inline-item me-0",children:(0,p.jsx)("a",{href:"#",children:"Developers"})}),(0,p.jsx)("li",{className:"list-inline-item me-0",children:(0,p.jsx)("a",{href:"#",children:"Support"})}),(0,p.jsx)("li",{className:"list-inline-item me-0",children:(0,p.jsxs)("a",{href:"#",children:["Careers"," ",(0,p.jsx)("span",{className:"align-middle badge badge-soft-info rounded-pill fw-normal fs-11 px-2 py-1",children:"We're hiring"})]})})]})}),(0,p.jsx)("div",{className:"col-md-auto text-md-end mt-2 mt-md-0",children:(0,p.jsxs)("p",{className:"fs-14 mb-0",children:[" ","\xa9 Xipay. All rights reserved."]})})]})})})},x=function(e){var n=e.children;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(m,{}),n,(0,p.jsx)(h,{})]})}},96792:function(e,n,a){a(76870);var t=a(52516);n.Z=function(e){var n=e.title,a=e.subtitle;return(0,t.jsx)("div",{class:"row",children:(0,t.jsx)("div",{class:"col-lg-12",children:(0,t.jsxs)("div",{class:"page-title",children:[(0,t.jsx)("h3",{class:"my-0",children:n}),(0,t.jsx)("p",{class:"mt-1 fw-medium",children:a})]})})})}},99870:function(e,n,a){a.r(n);var t=a(24611),s=a(53755),i=a(23680),r=a(76870),l=a(95573),c=a(96792),o=a(5779),d=a(7733),u=a.n(d),p=a(22667),m=a(4802),h=a(75473),x=a.n(h),f=a(52516),v=function(e){var n=e.item,a="danger";return"Paid"===n.status&&(a="success"),(0,f.jsx)("div",{className:"row mb-2 mt-2",children:(0,f.jsx)("div",{className:"col",children:(0,f.jsx)("div",{className:"card mb-0",children:(0,f.jsx)("div",{className:"card-body",children:(0,f.jsxs)("div",{className:"row align-items-center justify-content-sm-between",children:[(0,f.jsxs)("div",{className:"col-lg-1",children:[(0,f.jsx)("div",{className:"form-check",children:(0,f.jsxs)("label",{className:"form-check-label",htmlFor:"task4",children:["#",n.invoiceNo," "," "]})})," "]})," ",(0,f.jsxs)("div",{className:"col-lg-2",children:[(0,f.jsx)("div",{className:"form-check",children:(0,f.jsx)("label",{className:"form-check-label",htmlFor:"task4",children:x()(n.createdAt).format("DD-MM-YYYY")})})," "]})," ",(0,f.jsxs)("div",{className:"col-lg-2",children:[(0,f.jsx)("div",{className:"form-check",children:(0,f.jsxs)("label",{className:"form-check-label",htmlFor:"task4",children:[n.invoiceAmount," ",n.currencySymbol]})})," "]})," ",(0,f.jsx)("div",{className:"col-lg-3",children:n.txnHash?(0,f.jsxs)("label",{className:"form-check-label",htmlFor:"task4",children:[parseFloat(n.paidAmount).toFixed(4)," ",n.assetSymbol," ",(0,f.jsx)("br",{}),(0,f.jsxs)("small",{children:[n.assetPrice,"/",n.assetSymbol]})]}):(0,f.jsx)("span",{className:"badge badge-soft-secondary rounded-pill",children:"Paid Details Not Avaiable"})}),(0,f.jsx)("div",{className:"col-lg-1",children:n.txnHash?(0,f.jsx)("a",{href:o.Fl[n.chainId]+n.txnHash,target:"_blank",children:(0,f.jsx)("span",{className:"badge badge-soft-secondary rounded-pill",children:"View Txn"})}):(0,f.jsx)("span",{className:"badge badge-soft-secondary rounded-pill",children:"~"})}),(0,f.jsx)("div",{className:"col-lg-3",children:(0,f.jsxs)("ul",{className:"list-inline text-sm-end mb-0",children:[(0,f.jsx)("li",{className:"list-inline-item pe-3",id:"tooltip-container8",children:(0,f.jsx)("span",{className:"fs-13 fw-medium",children:(0,f.jsx)("span",{style:{cursor:"pointer"},onClick:function(){(0,m.TE)("".concat(o.Ms,"/viewinvoice/").concat(n._id))},className:"icon icon-xxs text-normal",children:"Share"})})}),(0,f.jsx)("li",{className:"list-inline-item pe-3",id:"tooltip-container8",children:(0,f.jsx)("span",{className:"fs-13 fw-medium",children:(0,f.jsx)("a",{target:"_blank",href:"/viewinvoice/".concat(n._id),children:(0,f.jsx)("span",{className:"icon icon-xxs text-normal",children:"View"})})})}),(0,f.jsx)("li",{className:"list-inline-item",children:(0,f.jsx)("span",{className:"badge badge-soft-".concat(a," p-1"),style:{width:100},children:n.status})})]})})," "]})})})})})};n.default=function(){var e=(0,r.useState)([]),n=(0,i.Z)(e,2),a=n[0],d=n[1],m=(0,r.useState)(!1),h=(0,i.Z)(m,2),x=h[0],y=h[1],b=(0,r.useState)(1),j=(0,i.Z)(b,2),g=j[0],N=j[1],w=(0,r.useState)(!1),k=(0,i.Z)(w,2),T=k[0],Z=k[1];(0,r.useEffect)((function(){A()}),[]);var S,A=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.aY.standard(".invoicelist","Please wait..."),e.prev=1,e.next=4,u().get(o.T5+"/api/webpayment/?limit=10&page=".concat(g));case 4:n=e.sent,o.aY.remove(".invoicelist"),n.data&&(d(n.data.docs),y(n.data.hasNextPage),N(n.data.page)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),o.aY.remove(".invoicelist"),o.aS.failure("Error Ocuured in API");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(){var n,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),o.aY.standard(".invoicelist","Please wait..."),e.prev=2,e.next=5,u().get(o.T5+"/api/webpayment/?limit=10&page=".concat(g+1));case 5:n=e.sent,o.aY.remove(".invoicelist"),Z(!1),n.data&&(s=a.concat(n.data.docs),d(s),y(n.data.page),N(n.data.hasNextPage)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(2),Z(!1),o.aY.remove(".invoicelist"),o.aS.failure("Error Ocuured in API");case 16:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return S=a.length>0?a.map((function(e){return(0,f.jsx)(v,{item:e})})):(0,f.jsx)("div",{className:"col-md-12",children:(0,f.jsx)("div",{className:"card",children:(0,f.jsx)("div",{className:"card-body",children:(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("h1",{children:"No Record Available"})})})})}),(0,f.jsx)(l.Z,{children:(0,f.jsx)("section",{class:"position-relative p-3 bg-gradient2 min100vh",children:(0,f.jsxs)("div",{class:"container",children:[(0,f.jsx)(c.Z,{title:"Web Payments",subtitle:"All your invoices in one place"}),(0,f.jsx)("div",{className:"row mt-2 m4-2",children:(0,f.jsx)("div",{className:"col-lg-12",children:(0,f.jsxs)("div",{class:"row",children:[(0,f.jsx)("div",{class:"col",children:(0,f.jsx)("h4",{class:"mb-3 mt-0 fs-16",children:"Web Payments"})}),(0,f.jsx)("div",{class:"col text-end",children:(0,f.jsx)(p.rU,{to:"/user/setting/apikey",class:"btn btn-soft-primary col-3 me-2",children:"Get API Key"})})]})})}),(0,f.jsx)("div",{className:"invoicelist",children:S}),x&&!T&&(0,f.jsxs)("div",{className:"row mb-3 mt-4",children:[(0,f.jsx)("div",{className:"col-12",children:(0,f.jsx)("div",{className:"text-center",children:(0,f.jsx)("button",{onClick:function(){return C()},className:"btn btn-outline-primary btn-sm",type:"button",children:"Load More"})})})," "]})]})})})}},49111:function(e,n){n.Z=function(e){var n=document.createElement("script");n.src=e,n.async=!0,document.body.appendChild(n)}},69935:function(e,n){n.Z=function(e){for(var n=document.getElementsByTagName("script"),a=n.length;a>=0;a--)n[a]&&null!==n[a].getAttribute("src")&&-1!==n[a].getAttribute("src").indexOf("".concat(e))&&n[a].parentNode.removeChild(n[a])}}}]);
//# sourceMappingURL=870.a2d683f5.chunk.js.map